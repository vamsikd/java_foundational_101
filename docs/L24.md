# L24: Sets — implementations, HashSet with generics, rules, and best practices

Sets store unique elements (no duplicates). Choose the implementation based on ordering and operation needs.

## 1) Implementations of Set
- HashSet — general-purpose, fastest membership checks; no order guarantees
- LinkedHashSet — preserves insertion order; useful for predictable iteration
- TreeSet — sorted order (natural or comparator), navigable operations

## 2) HashSet + Generics
`Set<T>` with a `HashSet<>()` is the default choice for deduplication and membership. Generics provide compile-time type safety.

In `L24_set/SetsDemo.java`:
- Add elements (duplicates ignored)
- Deduplicate a list quickly: `new HashSet<>(list)`
- `contains`, `add`, `remove` basics

## 3) Set Operations
- Union: `a.addAll(b)`
- Intersection: `a.retainAll(b)`
- Difference: `a.removeAll(b)`

## 4) Rules to Follow
- Implement `equals` and `hashCode` consistently for custom types used in HashSet/LinkedHashSet.
- Avoid `null` with TreeSet’s natural ordering (can throw NPE); prefer non-null elements.
- For stable iteration order, use LinkedHashSet.
- For sorted views and range queries, use TreeSet (or keep data sorted on input).

## 5) Best Practices
- Use `Collections.unmodifiableSet(set)` for read-only views.
- For case-insensitive ordering, provide a `Comparator` to TreeSet.
- Prefer immutable element types or avoid mutating fields used in equality after adding to a set.

## 6) Try it
Compile and run:
```pwsh
javac .\L24_set\SetsDemo.java
java L24_set.SetsDemo
```

Expected output (abridged):
```
=== L24: Set Demo ===
-- Implementations overview --
-- HashSet with generics --
Tags (HashSet, unique): [...]
contains 'java'? true
Deduplicated: [...]
-- Set operations: union / intersection / difference --
union(a,b): [1, 2, 3, 4, 5]
intersection(a,b): [3, 4]
difference(a,b): [1, 2]
-- LinkedHashSet preserves insertion order --
LinkedHashSet: [alpha, beta, gamma]
-- TreeSet sorted & navigable --
TreeSet (CI sorted): [apple, Banana, cherry]
first=apple, last=cherry
ceiling('b')=Banana, floor('b')=apple
-- equals/hashCode contract pitfall --
BadPerson HashSet size (should be 1): 2
GoodPerson HashSet size (correct 1): 1
=== End of Set Demo ===
```

Source: `L24_set/SetsDemo.java`.
