# L23: Lists — implementations, ArrayList with generics, rules, and best practices

Lists are ordered, index-based collections that typically allow duplicates and nulls. The two main implementations you’ll use are ArrayList and LinkedList.

## 1) Implementations of List
- ArrayList — dynamic array, fast random access, amortized O(1) append, contiguous memory
- LinkedList — doubly-linked nodes, fast head/tail ops, O(n) random access, also a Deque
- Others: Vector (legacy synchronized), CopyOnWriteArrayList (concurrent read-heavy scenarios)

## 2) ArrayList + Generics
Generics make your lists type-safe at compile time. Prefer `List<T>` variable type with `new ArrayList<>()` to keep flexibility.

Example highlights in `L23_list/ListsDemo.java`:
- add/get/set/indexOf/contains
- allowing nulls and how they behave
- sorting with `Collections.sort` and `Comparator`
- removal with `removeIf`

## 3) Rules to Follow
- Use the interface type (`List<T>`) for references; choose implementation at construction.
- Prefer ArrayList by default; switch to LinkedList for heavy head/tail operations.
- When iterating and removing, use `removeIf` or an Iterator (avoid concurrent modification).
- Avoid `Vector`/`Stack`; use `ArrayList`/`Deque` instead.
- Be careful with `Arrays.asList` — it returns a fixed-size view.

## 4) Best Practices & Usage Guidelines
- Favor immutability for read-mostly lists: `List.copyOf(...)` or `Collections.unmodifiableList(...)`.
- Use `Comparator` composition for complex sorting: `thenComparing`.
- For large lists, avoid frequent inserts in the middle with ArrayList.
- For concurrency, prefer `CopyOnWriteArrayList` or higher-level concurrent structures.

## 5) Try it
Compile and run:
```pwsh
javac .\L23_list\ListsDemo.java
java L23_list.ListsDemo
```

Expected output (abridged):
```
=== L23: List Demo ===
-- Implementations overview --
ArrayList ...
LinkedList ...
-- ArrayList with generics --
Cities: [Hyderabad, Bengaluru, Chennai, null]
get(1): Bengaluru
after set(1, ...): [Hyderabad, Bangalore, Chennai, null]
contains('Chennai'): true
indexOf(null): 3
-- LinkedList specifics --
LinkedList: [10, 20, 30], removeFirst=10
-- Sorting & comparators --
Sorted ints: [1, 2, 5, 5, 9]
Names by length then alpha: [Li, Raj, Anita, Vikram]
-- Iterate & remove (removeIf) --
Original: [1, 2, 3, 4, 5, 6, 7, 8]
After removeIf(even): [1, 3, 5, 7]
for-each: 1 3 5 7 
index loop: 1 3 5 7 
-- Arrays <> Lists interop --
Arrays.asList fixed-size: [a, b, c]
Cannot add to fixed-size list from Arrays.asList
Mutable copy: [a, b, c, d]
Unmodifiable view: [a, b, c, d]
=== End of List Demo ===
```

Source: `L23_list/ListsDemo.java`.
